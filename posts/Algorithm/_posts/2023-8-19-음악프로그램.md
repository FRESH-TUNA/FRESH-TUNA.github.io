---
layout: post
title: "음악프로그램"
comments: true
---

## 1. 개요
- [https://www.acmicpc.net/problem/11066](https://www.acmicpc.net/problem/11066)

## 2. 풀이
```python
from collections import deque

def solution():
    N, M = map(int, input().split())
    DEGREE = [0] * (N + 1)
    G = [[] for _ in range(N + 1)]
    
    for _ in range(M):
        flow = list(map(int, input().split()))
        
        for i in range(1, len(flow) - 1):
            G[flow[i]].append(flow[i + 1])
            DEGREE[flow[i+1]] += 1

    # 위상정렬
    def topology_sort():
        q = deque()
        result = []

        for i in range(1, N+1):
            if DEGREE[i] == 0:
                q.append(i)

        while q:
            now = q.popleft()
            result.append(now)

            for i in G[now]:
                DEGREE[i] -= 1

                if DEGREE[i] == 0:
                    q.append(i)


        if len(result) != N:
            return 0
        else:
            return "\n".join(map(str, result))

    return topology_sort()

print(solution())

```
